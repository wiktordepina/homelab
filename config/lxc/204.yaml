---
terraform:
  vmid: 204
  hostname: jellyfin
  ip_address: 10.20.1.204/16
  nameserver: 10.20.0.1
  cpu_core_count: 4
  memory: 2048
  swap: 512
  start_on_boot: true
  rootfs_size: 20G
  mount_points:
    - key: 0
      storage: /zpool/share/movies
      mp: /mnt/movies
      size: 20T
    - key: 1
      storage: /zpool/share/shows
      mp: /mnt/shows
      size: 20T

pve_extra:
  - lxc.cgroup.devices.allow: c 195:* rwm
  - lxc.cgroup.devices.allow: c 234:* rwm
  - lxc.cgroup.devices.allow: c 238:* rwm
  - lxc.mount.entry: /dev/nvidia0 dev/nvidia0 none bind,optional,create=file
  - lxc.mount.entry: /dev/nvidiactl dev/nvidiactl none bind,optional,create=file
  - lxc.mount.entry: /dev/nvidia-uvm dev/nvidia-uvm none bind,optional,create=file
  - lxc.mount.entry: /dev/nvidia-uvm-tools dev/nvidia-uvm-tools none bind,optional,create=file
  - lxc.mount.entry: /dev/nvidia-uvm-tools dev/nvidia-caps/nvidia-cap1 none bind,optional,create=file
  - lxc.mount.entry: /dev/nvidia-uvm-tools dev/nvidia-caps/nvidia-cap2 none bind,optional,create=file

ansible:
  roles:
    - base
    - jellyfin
